!function(e){var t={};function s(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(i,l,function(t){return e[t]}.bind(null,l));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);class i{constructor(){}render(e,t){this.parentDoment=t,this.putDown(t),this.domElement=document.createElement(e.name),this.doRender(e,t,this.domElement)}renderMouseFollower(e,t){let s=document.createElement(e.name);return this.doRender(e,t,s),this.domElement&&(s.style.width=this.domElement.clientWidth+"px"),s}refreshState(e){this.domElement&&(this.domElement.classList.remove("actived","focused","dragged","dragover"),this.renderStylesAndClasses(e,this.domElement))}refresh(e,t){this.domElement&&(this.putDown(),this.parentDoment=t,this.doRender(e,t,this.domElement))}doRender(e,t,s){this.renderStylesAndClasses(e,s),this.bindEvents(s,e.on),this.showTextNode(e,s),this.showLabel(e,s),this.showToolbar(e,s),this.showAttributes(e,s),t.appendChild(s)}renderStylesAndClasses(e,t){if(t){if(e.styles)for(var s in e.styles)t.style[s]=e.styles[s];e.classList.forEach(e=>{e&&t.classList.add(e)})}}showTextNode(e,t){e.text&&t.appendChild(document.createTextNode(e.text))}showLabel(e,t){if(e.label){let s=document.createElement("div");s.classList.add("element-label"),s.title="Can be dragged",s.appendChild(document.createTextNode(e.label.text)),t.appendChild(s)}}showToolbar(e,t){if(e.toolbar){let s=document.createElement("div");s.classList.add("element-toolbar"),s.appendChild(this.createToolbarButton("Move","fa-arrow-up",e.toolbar.up)),s.appendChild(this.createToolbarButton("Move","fa-arrows",e.toolbar.move)),s.appendChild(this.createToolbarButton("Duplicate","fa-copy",e.toolbar.duplicate)),s.appendChild(this.createToolbarButton("Edit","fa-edit",e.toolbar.edit)),s.appendChild(this.createToolbarButton("Delete","fa-trash-o",e.toolbar.delete)),t.appendChild(s)}}showAttributes(e,t){for(var s in e.attributes)t[s]=e.attributes[s]}createToolbarButton(e,t,s){let i=document.createElement("div");i.classList.add("button"),i.title=e;let l=document.createElement("i");return l.classList.add("fa"),l.classList.add(t),i.appendChild(l),this.bindEvents(i,s),i}bindEvents(e,t){for(var s in t)e.addEventListener(s,t[s])}putDown(){this.domElement&&this.parentDoment.contains(this.domElement)&&this.parentDoment.removeChild(this.domElement)}}class l extends Array{first(){if(this.length>0)return this[0]}last(){if(this.length>0)return this[this.length-1]}before(e){for(var t=0;t<this.length;t++)if(this[t]===e&&t>0)return this[t-1]}after(e){for(var t=0;t<this.length;t++)if(this[t]===e&&t<this.length)return this[t+1]}inertBefore(e,t){for(var s=0;s<this.length;s++)if(this[s]===t)return void this.splice(s,0,e)}inertAfter(e,t){for(var s=0;s<this.length;s++)if(this[s]===t)return void this.splice(s+1,0,e)}remove(e){for(var t=0;t<this.length;t++)if(this[t]===e){this.splice(t,1);break}}add(e){this.contains(e)||this.push(e)}contains(e){for(var t=0;t<this.length;t++)if(this[t]===e)return!0;return!1}tongleOnCondition(e,t){e?this.add(t):this.remove(t)}clear(){this.length=0}}class o{constructor(e){this.node=e,this.classList=[],this.styles={},this.onMousemove=()=>{},this.onBegindrag=()=>{},this.onMouseover=e=>{},this.onMouseout=()=>{},this.onClick=()=>{rxEditor.clearFocusStates()}}mouseAtBefore(e){let t=this.node.dropMargin;return e.offsetX<=t||e.offsetY<=t}mouseAtAfter(e){let t=this.node.dropMargin;return e.srcElement.clientWidth-e.offsetX<=t||e.srcElement.clientHeight-e.offsetY<=t}mouseAtLeft(e){return e.offsetX<=this.node.widthDropMargin}mouseAtRight(e){return e.srcElement.clientWidth-e.offsetX<=this.node.widthDropMargin}mouseAtTop(e){return e.offsetY<=this.node.heightDropMargin}mouseAtBottom(e){return e.srcElement.clientHeight-e.offsetY<=this.node.heightDropMargin}mouseAtDropArea(e){let t=this.node.dropMargin;return event.offsetX>t&&event.offsetY>t&&event.srcElement.clientWidth-event.offsetX>t&&event.srcElement.clientHeight-event.offsetY>t}}class r extends o{constructor(e){super(e),this.onMousemove=e=>{this.node.adoptFromToolbox(),this.doDragover(e),rxEditor.followMouse(e)},this.onClick=e=>{rxEditor.clearFocusStates(),this.node.changeToState("focusState")}}doDragover(e){if(rxEditor.draggedNode){if(rxEditor.clearDraggedoverStates(),this.mouseAtLeft(e)||this.mouseAtTop(e))return void(this.node.parent&&this.node.parent.canAccept(rxEditor.draggedNode)&&(rxEditor.draggedNode.moveBefore(this.node),this.node.parent.changeToState("dragoverState")));if(this.mouseAtRight(e)||this.mouseAtBottom(e))return void(this.node.parent&&this.node.parent.canAccept(rxEditor.draggedNode)&&(rxEditor.draggedNode.moveAfter(this.node),this.node.parent.changeToState("dragoverState")));if(this.mouseAtBefore(e))return void(this.node.canAccept(rxEditor.draggedNode)&&(rxEditor.draggedNode.moveInTop(this.node),this.node.changeToState("dragoverState")));(this.mouseAtAfter(e)||this.mouseAtDropArea(e))&&this.node.canAccept(rxEditor.draggedNode)&&(rxEditor.draggedNode.moveIn(this.node),this.node.changeToState("dragoverState"))}}}class a extends r{constructor(e){super(e),this.onMouseover=e=>{rxEditor.draggedNode||(rxEditor.clearActiveStates(),this.node.changeToState("activeState"))}}}class n extends r{constructor(e){super(e),this.classList.push("dragover"),this.onMouseout=()=>{this.node.changeToState("normalState")}}}class d extends r{constructor(e){super(e),this.classList.push("actived"),this.onMouseout=()=>{this.node.changeToState("normalState")},this.onMouseover=e=>{rxEditor.draggedNode||(rxEditor.clearActiveStates(),this.node.changeToState("activeState"))}}}class h extends o{constructor(e){super(e),this.classList.push("focused"),this.onClick=e=>{e.stopPropagation()},this.onBegindrag=e=>{this.preventDefault,rxEditor.draggedNode=this.node,rxEditor.beginFollowMouse(e),this.node.changeToState("draggedState")}}}class c extends o{constructor(e){super(e),this.onMousemove=e=>{e.preventDefault(),rxEditor.followMouse(e)},this.onMouseout=e=>{e.preventDefault()}}}class m extends c{constructor(e){super(e),this.classList.push("dragged"),this.onMousemove=e=>{this.node.parent&&this.node.parent.changeToState("dragoverState"),rxEditor.followMouse(e)}}}class u{constructor(){this.seedId(),this.toolboxInfo={},this.children=new l,this.view=new i,this.dropMargin=30,this.mouseFollowerWidth="200px",this.acceptedChildren=[],this.exceptChildren="",this.editMarginStyle={position:"relative",padding:"30px"},this.initStates(),this.mouseFollower={offsetX:10,offsetY:0},this.begindrag=e=>{e.stopPropagation(),this.state.onBegindrag(e)},this.begindragLabel=e=>{this.view.domElement&&(this.mouseFollower.offsetX=e.offsetX,this.mouseFollower.offsetY=-18+e.offsetY),this.begindrag(e)},this.begindragIcon=e=>{this.view.domElement&&(this.mouseFollower.offsetX=this.view.domElement.clientWidth-96+e.offsetX,this.mouseFollower.offsetY=-24+e.offsetY),this.begindrag(e)},this.mousemove=e=>{e.stopPropagation(),this.state.onMousemove(e)},this.mouseover=e=>{e.stopPropagation(),this.state.onMouseover(e)},this.mouseout=e=>{e.stopPropagation(),this.state.onMouseout(e)},this.onclick=e=>{e.stopPropagation(),this.state.onClick(e)},this.duplicate=()=>{this.changeToState("normalState"),this.inertAfterSelf(this.clone()),rxEditor.render()},this.edit=e=>{console.log("Edit"),e.stopPropagation()},this.up=e=>{this.parent&&(this.changeToState("normalState"),this.parent.changeToState("focusState"),e.stopPropagation())},this.delete=()=>{confirm("Are you sure to delete?")&&this.removeFromParent()},this.stateChanged=(e,t)=>{rxEditor.nodeStateChanged(this,e,t)}}seedId(){u.idSeed||(u.idSeed=1),u.idSeed++,this.$id=u.idSeed}initStates(){this.normalState=new a(this),this.activeState=new d(this),this.focusState=new h(this),this.dragoverState=new n(this),this.draggedState=new m(this),this.disableState=new c(this),this.state=this.normalState}changeToState(e){if(this.state===this[e])return;let t=this.state;this.state=this[e],this.refreshState(),this.stateChanged(t,this[e])}render(){this.view.render(this.toViewModel(),this.getParentViewDomElement()),this.children.forEach((function(e){e.render()}))}refreshState(){this.view.refreshState(this.toViewModel()),this.children.forEach((function(e){e.refreshState()}))}refresh(){this.view.refresh(this.toViewModel(),this.getParentViewDomElement()),this.children.forEach((function(e){e.refresh()}))}createMouseFollower(){let e=document.createElement("div");return e.classList.add("mouse-follow"),this.parent||(e.style.width=this.mouseFollowerWidth),this.renderMouseFollower(e),this.mouseFollower.domElement=e,this.mouseFollower}renderMouseFollower(e){let t=this.view.renderMouseFollower(this.toViewModel(),e);return this.children.forEach((function(e){e.renderMouseFollower(t)})),t}clearDraggedoverStates(){this.state===this.dragoverState&&this.changeToState("normalState"),this.children.forEach((function(e){e.clearDraggedoverStates()}))}clearActiveStates(){this.state===this.activeState&&this.changeToState("normalState"),this.children.forEach((function(e){e.clearActiveStates()}))}clearFocusStates(){this.state===this.focusState&&this.changeToState("normalState"),this.children.forEach((function(e){e.clearFocusStates()}))}adoptFromToolbox(){let e=rxEditor.draggedNode;e&&!e.parent&&this.canAccept(e)&&(e.parent=this,e.render(),e.changeToState("draggedState"))}getParentViewDomElement(){return this.parent.view.domElement}createChild(e){let t=u.createNode(this,e);return this.children.add(t),t}firstChild(){return this.children.first()}removeFromParent(){this.parent&&(this.view.putDown(),this.parent.children.remove(this))}unshiftChild(e){e.parent=this,this.children.unshift(e)}pushChild(e){e.parent=this,this.children.add(e)}moveInTop(e){e.children.first()!==this&&(this.removeFromParent(),e.unshiftChild(this),rxEditor.refresh())}moveIn(e){e.children.last()!==this&&(this.removeFromParent(),e.pushChild(this),rxEditor.refresh())}moveBefore(e){e.children.before()!==this&&(this.removeFromParent(),this.parent=e.parent,e.parent.children.inertBefore(this,e),rxEditor.refresh())}moveAfter(e){e.children.after()!==this&&(this.removeFromParent(),this.parent=e.parent,e.parent.children.inertAfter(this,e),rxEditor.refresh())}inertAfterSelf(e){e.parent=this.parent,this.parent.children.inertAfter(e,this),this.parent.refresh()}clone(){let e=this.make(this.parent);return this.children.forEach(t=>{e.pushChild(t.clone())}),e}canAccept(e){return(!this.acceptedChildren||0!=this.acceptedChildren.length)&&(!(this.acceptedChildren&&!this.containsInAccepted(e))&&!(!this.acceptedChildren&&this.containsInExcept(e)))}containsInAccepted(e){let t=e.className;for(var s=0;s<this.acceptedChildren.length;s++)if(this.acceptedChildren[s]===t)return!0;return!1}containsInExcept(e){let t=e.className;if(this.exceptChildren)for(var s=0;s<this.exceptChildren.length;s++)if(this.exceptChildren[s]===t)return!0;return!1}toViewModel(){let e=new l;e.add("element"),e.push.apply(e,rxEditor.optionClasses),e.push.apply(e,this.state.classList);let t={};return rxEditor.state.showEditMargin&&Object.assign(t,this.editMarginStyle),Object.assign(t,this.state.styles),{styles:t,classList:e,label:{on:{mousedown:this.begindragLabel}},toolbar:{up:{click:this.up},move:{mousedown:this.begindragIcon},duplicate:{click:this.duplicate},edit:{click:this.edit},delete:{click:this.delete}},attributes:{},on:{mousemove:this.mousemove,mouseover:this.mouseover,mouseout:this.mouseout,click:this.onclick}}}nodeChanged(e){this.$id!==e.id?this.children.forEach(t=>{t.nodeChanged(e)}):this.$meta=e.meta}}class p extends u{constructor(e){super(),this.activeState=this.normalState,this.focusState=this.normalState,this.parentViewDomElement=e,this.acceptedChildren="",this.exceptChildren=["BSCol","BSW100"],this.heightDropMargin=0,this.widthDropMargin=0,this.padding="30px",this.stateChanged=(e,t)=>{}}getParentViewDomElement(){return this.parentViewDomElement}toViewModel(){let e=super.toViewModel();return e.name="div",e.styles.width="100%",e.styles["min-height"]="calc(100vh)",e.styles.cursor="default",e.styles.padding="2px",e.styles["padding-top"]="25px",e.classList.push("canvas"),e.toolbar="",e.label="",e}}class g{constructor(){this.envetHandlers={}}watch(e,t){this.envetHandlers[e]||(this.envetHandlers[e]=new l),this.envetHandlers[e].contains(t)||this.envetHandlers[e].push(t)}cancelWatch(e,t){console.assert(this.envetHandlers[e],"EditorState: did not register this event handler"),this.envetHandlers[e].remove(t)}distributeEvent(e){this.distributeEventWithoutGlobal(e),this.distributeEventWithoutGlobal("changed")}distributeEventWithoutGlobal(e){let t=this.envetHandlers[e];t&&t.forEach(e=>{e(this)})}}class w extends g{constructor(){super(),this.__preview=!1,this.__showEditMargin=!0,this.__showOutline=!0,this.__showLabel=!0}get preview(){return this.__preview}set preview(e){this.__preview!=e&&(this.__preview=e,this.distributeEvent("preview"))}get showEditMargin(){return this.__showEditMargin}set showEditMargin(e){this.__showEditMargin!=e&&(this.__showEditMargin=e,this.distributeEvent("showEditMargin"))}get showOutline(){return this.__showOutline}set showOutline(e){this.__showOutline!=e&&(this.__showOutline=e,this.distributeEvent("showOutline"))}get showLabel(){return this.__showLabel}set showLabel(e){this.__showLabel!=e&&(this.__showLabel=e,this.distributeEvent("showLabel"))}}class f{constructor(){this.state=new w,this.optionClasses=new l,this.optionClasses.add("show-outline"),this.optionClasses.add("show-label")}hangOn(e,t){this.workspace=document.getElementById(e),this.canvas=new p(this.workspace),this.canvas.render(),t.serveForRXEditor=this,this.commandProxy=t,this.commandProxy.rxeditorReady(),document.addEventListener("mouseup",e=>{this.dropElement(),console.log("canvas mouse up")}),this.state.watch("changed",e=>{this.optionClasses.tongleOnCondition(e.showOutline,"show-outline"),this.optionClasses.tongleOnCondition(!e.showLabel,"hide-label"),this.render()})}render(){this.canvas.render()}refresh(){this.canvas.refresh()}clearDraggedoverStates(){this.canvas.clearDraggedoverStates()}clearActiveStates(){this.canvas.clearActiveStates()}clearFocusStates(){this.canvas.clearFocusStates()}dragFromToolbox(e){if(this.draggedNode)return;let t=this.getElementByRxNameId(e);this.draggedNode=t.make(),this.beginFollowMouse(),this.clearFocusStates()}getElementDefine(e){return this.getElementByRxNameId(e).toolboxInfo}getElementByRxNameId(e){let t=e.split("."),s=t[0],i=t[1],l=this[s][i];return console.assert(l,"Can not find element:"+e),l.toolboxInfo.rxNameId=e,l}dropElement(){this.endFollowMouse(),this.draggedNode&&(this.clearActiveStates(),this.draggedNode.changeToState("focusState"),this.draggedNode.parent&&this.draggedNode.parent.changeToState("normalState"),this.draggedNode="")}endDragFromToolbox(){this.draggedNode&&this.draggedNode.changeToState("normalState"),this.draggedNode="",this.endFollowMouse()}followMouse(e){let t=this.mouseFollower;t&&(t.domElement.style.left=this.followX(e),t.domElement.style.top=this.followY(e),this.commandProxy.takeOverDraggingByWorkspace())}followX(e){return e.clientX-this.mouseFollower.offsetX+"px"}followY(e){return e.clientY-this.mouseFollower.offsetY+"px"}beginFollowMouse(){if(this.draggedNode){let e=this.draggedNode.createMouseFollower(event);this.workspace.appendChild(e.domElement),this.mouseFollower=e}}endFollowMouse(){this.mouseFollower&&this.workspace.contains(this.mouseFollower.domElement)&&this.workspace.removeChild(this.mouseFollower.domElement),this.mouseFollower=""}bindToolboxItem(e,t){new ToolboxItem(e).bindTo(t)}nodeStateChanged(e,t,s){s===e.focusState&&e.focusState!==e.normalState&&this.commandProxy.focusNode(e),t===e.focusState&&s!==e.focusState&&this.commandProxy.unFocusNode(e)}changeCanvasState(e){this.state.preview=e.preview,this.state.showEditMargin=e.showEditMargin,this.state.showOutline=e.showOutline,this.state.showLabel=e.showLabel}nodeChanged(e){this.canvas.nodeChanged(e),this.render()}}class b{constructor(e="div"){this.children=new l,this.classList=new l,this.style={},this.attrs={},this.domOns={},this.elementName=e}on(e,t){return this[e]=t,this}off(e){return delete this[e],this}domOn(e,t){return this.$dom&&this.$dom.addEventListener(e,t),this.domOns[e]=t,this}domOff(e,t){return this.$dom&&this.$dom.removeEventListener(e,t),delete this.domOns[e],this}pushChild(e){return this.children.push(e),this}unshiftChild(e){return this.children.unshift(e),this}cssClass(e){return this.classList.add(e),this.$dom&&this.$dom.classList.add(e),this}removeCssClass(e){return this.classList.contains(e)&&(this.classList.remove(e),this.$dom&&this.$dom.classList.remove(e)),this}cssStyle(e,t){return this.style[e]=t,this}removeCssStyle(e){delete this.style[e]}domAttr(e,t){return this.attrs[e]=t,this}removeDomAttr(e){return delete this.attrs[e],this}tongle(e){this.classList.contains(e)?(this.classList.remove(e),this.$dom&&this.$dom.classList.remove(e)):(this.classList.add(e),this.$dom&&this.$dom.classList.add(e))}render(e){for(var t in this.$dom=document.createElement(this.elementName),e.appendChild(this.$dom),this.innerHTML&&(this.$dom.innerHTML=this.innerHTML),this.style)this.$dom.style[t]=this.style[t];for(var s in this.classList.forEach(e=>{this.$dom.classList.add(e)}),this.attrs)this.$dom[s]=this.attrs[s];for(var i in this.domOns)this.$dom.addEventListener(i,this.domOns[i]);return this.children.forEach(e=>{e.render(this.$dom)}),this}refresh(){if(this.$dom){let e=this.$dom.parentNode;this.destory(),this.render(e)}}setInnerHTML(e){return this.innerHTML=e,this.$dom&&(this.$dom.innerHTML=e),this}destory(){this.$dom.parentNode.removeChild(this.$dom),this.$dom=""}clearChild(){this.children=new l}show(){return this.style.display="flex",this.$dom&&(this.$dom.style.display="flex"),this}hide(){return this.style.display="none",this.$dom&&(this.$dom.style.display="none"),this}focus(){return this.$dom&&this.$dom.focus(),this}clear(){return this.$dom&&(this.$dom.value=""),this}}class x extends b{constructor(e,t,s){super(),this.id=t,this.state=s,this.cssClass("tool-group"),this.cssClass("group-collapse"),this.title=new b,this.title.cssClass("group-title"),this.title.innerHTML=e,this.pushChild(this.title),this.groupBody=new b,this.groupBody.cssClass("group-body"),this.pushChild(this.groupBody),this.domOn("click",()=>{this.state.activedGroup=this.id}),this.state.watch("activedGroup",e=>{this.active(e.activedGroup===this.id)})}active(e=!0){return e?this.$dom?this.$dom.classList.remove("group-collapse"):this.classList.remove("group-collapse"):this.$dom?this.$dom.classList.add("group-collapse"):this.classList.add("group-collapse"),this}}class v extends g{constructor(){super(),this.__activedGroup=""}get activedGroup(){return this.__activedGroup}set activedGroup(e){this.__activedGroup!=e&&(this.__activedGroup=e,this.distributeEvent("activedGroup"))}}class C extends b{constructor(){super(),this.state=new v,this.cssClass("toolbox"),this.assembleToolboxItem=e=>{this.initGroups();let t=this[e.groupId].add(e);t.domOn("mousedown",e=>{this.draggingFromToolbox(t.toolboxInfo.rxNameId),t.mouseFollower.offsetX=e.offsetX,t.mouseFollower.offsetY=e.offsetY,this.beginFollowMouse(t.mouseFollower,e)})},document.addEventListener("mousemove",e=>{this.followMouse(e)}),document.addEventListener("mouseup",e=>{this.endFollowMouse(),this.endDragFromToolbox()})}initGroups(){this.groupContainer||(this.groupContainer=new S("Container","groupContainer",this.state).cssClass("no-title-top-border").render(this.$dom),this.groupContainer.active()),this.groupGrid||(this.groupGrid=new S("Grid","groupGrid",this.state).render(this.$dom)),this.groupText||(this.groupText=new S("Text","groupText",this.state).render(this.$dom)),this.groupHtml||(this.groupHtml=new S("HTML","groupHtml",this.state).render(this.$dom)),this.groupCombination||(this.groupCombination=new S("Combination","groupCombination",this.state).render(this.$dom))}followMouse(e){let t=this.mouseFollower;t&&(t.$dom.style.left=this.followX(e),t.$dom.style.top=this.followY(e))}followX(e){return e.clientX-this.mouseFollower.offsetX-4+"px"}followY(e){return e.clientY-this.mouseFollower.offsetY-3+"px"}beginFollowMouse(e,t){e.show(),this.mouseFollower=e,this.followMouse(t)}endFollowMouse(){this.mouseFollower&&this.mouseFollower.hiden(),this.mouseFollower=""}}class S extends x{constructor(e,t,s){super(e,t,s)}add(e){let t=new O(e).render(this.groupBody.$dom);return this.groupBody.pushChild(t),t}}class y extends b{constructor(){super(),this.cssClass("shell-mousefollower"),this.cssStyle("display","none"),this.show=()=>{this.$dom.style.display="block"},this.hiden=()=>{this.$dom.style.display="none"}}}class O extends b{constructor(e){super(),this.toolboxInfo=e,this.cssClass("element"),this.innerHTML='<i class="fa fa-arrows"></i> '+e.elementName,this.mouseFollower=new y,this.mouseFollower.cssClass("element"),this.mouseFollower.innerHTML=this.innerHTML,this.pushChild(this.mouseFollower)}}class L extends b{constructor(e="",t=""){super(),this.valueChangedHandlers=new l,this.onValueChanged=e=>{this.valueChangedHandlers.forEach(t=>{t(e)})},this.value=e,this.defaultValue=t}isShowingDefault(){return this.defaultValue===this.value}listenValueChaged(e){this.valueChangedHandlers.add(e)}offValueChaged(e){this.valueChangedHandlers.remove(e)}}class E extends L{constructor(e,t){super(e,t.defaultValue),this.cssClass("op-switch"),this.onValue=t.onValue,this.offValue=t.offValue,this.domOn("click",()=>{this.changeValue(),this.updateState()})}render(e){return this.updateState(),super.render(e)}changeValue(){this.value===this.onValue?this.value=this.offValue:this.value=this.onValue,this.onValueChanged(this.value)}updateState(){this.value===this.offValue?this.removeCssClass("on"):this.cssClass("on")}}class M extends b{constructor(){super()}active(e=!0){return e?this.$dom?this.$dom.classList.add("active"):this.classList.add("active"):this.$dom?this.$dom.classList.remove("active"):this.classList.remove("active"),this}title(e){return this.attrs.title=e,this}enable(e){e?this.$dom?this.$dom.classList.remove("disable"):this.classList.remove("disable"):this.$dom?this.$dom.classList.add("disable"):this.classList.add("disable")}}class B extends M{constructor(e){super(),this.cssClass("op-icon-button"),this.innerHTML=e}}class R extends b{constructor(e){super(),this.cssClass("op-label"),this.textSpan=new b("span"),this.textSpan.innerHTML=e,this.pushChild(this.textSpan),this.labelText=e,this.rightIconClick=e=>{}}setRightIcon(e){let t=new b("span");return t.cssClass("right-icon"),t.innerHTML=e,this.pushChild(t),t.domOn("click",()=>{this.rightIconClick(this.labelText)}),this}setText(e){this.textSpan.setInnerHTML(e)}}class T extends L{constructor(){super(),this.cssClass("op-label-group"),this.values=new l,this.onRemoveValue=e=>{},this.addLabels(),this.checkEmperty()}addLabel(e){if(!e)return;this.values.add(e);let t=new R(e).setRightIcon("×");t.rightIconClick=e=>{this.removeLabel(e),this.onRemoveValue(e)},this.pushChild(t)}addLabels(){this.clearChild(),this.values.forEach(e=>{this.addLabel(e)})}checkEmperty(){0===this.values.length?this.setInnerHTML('<div class="not-set-value">NOT SET</div>'):this.setInnerHTML("")}setValues(e){this.clearChild(),this.values.length=0,e.forEach(e=>{this.addLabel(e)}),this.checkEmperty(),this.refresh()}removeLabel(e){this.values.remove(e),this.checkEmperty(),this.addLabels(),this.refresh()}}class $ extends b{constructor(e,t){super("li"),this.id=e,this.value=t,this.setInnerHTML(t),this.selected=(e,t)=>{},this.domOn("click",()=>{this.selected(this.id,this.value)})}}class A extends b{constructor(e={}){for(var t in super("ul"),this.cssClass("select-list"),this.list=e,this.valueChage=(e,t)=>{},e){var s=new $(t,e[t]);s.selected=(e,t)=>{this.valueChage(e,t)},this.pushChild(s)}}}class F extends L{constructor(e,t){super(e),2===t.columns&&this.cssClass("two-column"),this.cssClass("ctl-select");let s=t.list;this.valueViewer=new R,this.emptyValue="Default",t.required||(this.clearBtn=new B("×"),this.pushChild(this.clearBtn),this.clearBtn.domOn("click",()=>{this.clear()})),this.pushChild(this.valueViewer),this.listViewer=new A(s,t.required),this.valueViewer.setText(e?s[e]:this.emptyValue),this.valueViewer.setRightIcon("▾"),this.pushChild(this.listViewer),this.valueViewer.domOn("click",e=>{this.listViewer.show(),e.stopPropagation()}),document.addEventListener("mousedown",()=>{this.listViewer.hide()}),this.listViewer.domOn("mousedown",e=>{e.stopPropagation()}),this.listViewer.valueChage=(e,t)=>{let s=this.value;this.value=e,s!==this.value&&this.onValueChanged(e),this.valueViewer.setText(t),this.listViewer.hide()}}clear(){this.valueViewer.setText(this.emptyValue);let e=this.value;this.value="",e&&this.onValueChanged(this.value)}}class _ extends L{constructor(){super(),this.cssClass("border-input"),this.innerHTML="Border-Input"}}class V extends b{constructor(){super(),this.valueChangedHandlers=new l,this.onValueChanged=e=>{this.valueChangedHandlers.forEach(t=>{t(e,this.fieldName)}),this.updateLabelColor(this.input)}}listenValueChaged(e){this.valueChangedHandlers.add(e)}offValueChaged(e){this.valueChangedHandlers.remove(e)}}class k extends V{constructor(e,t,s){super(),this.cssClass("option-row"),this.schema=t,this.value=e,this.fieldName=s,this.setLabel(t.label),this.setInput(this.createInput())}setLabel(e){this.rowLabel=new I(e),this.pushChild(this.rowLabel)}setInput(e){this.input=e,this.pushChild(e),this.updateLabelColor(e),e.listenValueChaged(e=>{this.onValueChanged(e)})}updateLabelColor(e){e.isShowingDefault()?this.removeCssClass("changed"):this.cssClass("changed")}createInput(){let e=this.schema,t=this.value;return"OpSelect"===e.widget?new F(t,e):"OpSwitch"===e.widget?new E(t,e):"OpLabelGroup"===e.widget?new T(t):"OpBorderInput"===e.widget?new _(t):void 0}}class H extends k{constructor(e,t,s,i){super(e[i],t[i],s),this.screenWidth=i,this.allValue=e,this.allSchema=t,this.onValueChanged=e=>{this.valueChangedHandlers.forEach(t=>{this.allValue[this.screenWidth]=e,t(this.allValue,this.fieldName),this.updateLabelColor(this.input)})}}}class I extends b{constructor(e){super(),this.cssClass("option-row-label"),this.innerHTML=e}}class D extends V{constructor(e,t,s,i){for(var s in super(),this.value=e,this.schema=t,this.fieldName=s,this.screenWidth=i,this.cssClass("option-row-group"),this.cssClass("sub-row-collapse"),this.titleRow=new k(["tsss"],{label:t.label,widget:"OpLabelGroup"}),this.titleRow.rowLabel.cssClass("dropdown"),this.titleRow.rowLabel.domOn("click",()=>{this.tongle("sub-row-collapse")}),this.titleRow.input.setValues(this.getValuesOnLabel()),this.pushChild(this.titleRow),this.body=new N,this.pushChild(this.body),t.fields){let i=t.fields[s],o=e[s];var l;(l=i.isResponsive?new H(o,i,s,this.screenWidth):new k(o,i,s)).listenValueChaged((e,t)=>{this.value[t]=e,this.onValueChanged(this.value),this.titleRow.input.setValues(this.getValuesOnLabel()),this.updateLabelColor()}),l.rowLabel.cssClass("sub-label"),this.body.pushChild(l)}this.titleRow.input.onRemoveValue=e=>{this.body.children.forEach(t=>{t.input.value===e&&t.input.clear()})},this.updateLabelColor()}updateLabelColor(){var e=!0;this.body.children.forEach(t=>{t.input.isShowingDefault()||(e=!1)}),e?this.titleRow.removeCssClass("changed"):this.titleRow.cssClass("changed")}getValuesOnLabel(){let e=this.schema,t=[];for(var s in e.fields)if(e.fields[s].isResponsive)t.push(this.value[s][this.screenWidth]);else{let e=this.value[s];e.constructor==Array?t.push.apply(t,e):t.push(this.value[s])}return t}}class N extends b{constructor(){super(),this.cssClass("option-row-group-body")}}class W extends x{constructor(e,t,s){super(e,t,s)}add(e){return this.groupBody.pushChild(e),this}}class j extends b{constructor(){super(),this.screenWidth="md",this.state=new v,this.cssClass("toolbox"),this.noFocusInnerHtml='<div style="padding:20px;">No elements selected</div>',this.innerHTML=this.noFocusInnerHtml,this.valueChanged=e=>{}}resizeScreen(e){if(this.screenWidth=e,this.node){this.editNode(this.node);let e=this.state.activedGroup;this.state.activedGroup="",this.state.activedGroup=e}}editNode(e){this.clear(),this.node=e,this.showContent(e),this.children.forEach(e=>{e.render(this.$dom)})}cancelEdit(){this.node="",this.children.clear(),this.state.activedGroup="",this.setInnerHTML(this.noFocusInnerHtml)}showContent(e){var t=e.meta,s=e.schema;for(var i in this.initGroup(s.groups),s.fields){let o=s.fields[i],r=t[i];var l;(l=o.isRowGroup?new D(r,o,i,this.screenWidth):o.isResponsive?new H(r,o,i,this.screenWidth):new k(r,o,i)).listenValueChaged((t,s)=>{e.meta[s]=t,this.valueChanged(e)}),this.getGroup(o.group).add(l)}this.children.length>0&&this.children.first().cssClass("no-title-top-border").active()}initGroup(e){for(var t in e){let s=e[t],i=new W(s.label,t,this.state);this[t]=i,this.pushChild(i)}}getGroup(e){if(this[e])return this[e]}clear(){this.children.clear(),this.setInnerHTML("")}showContent_old(e){let t=new k;t.pushChild(new OptionRowLabel("Heading")),t.pushChild((new ButtonGroup).pushChild(new OpButton("H1","h1")).pushChild(new OpButton("H2","h2")).pushChild(new OpButton("H3","h3")).pushChild(new OpButton("H4","h4")).pushChild(new OpButton("H5","h5")).pushChild(new OpButton("H6","h6")).active("h2"));let s=new k;s.addRowLabel(new OptionRowLabel("Classes")),s.pushChild(new OpSelect({container:"container","container-fluid":"container-fluid"},"",!0));let i=new D,l=new k;l.addRowLabel(new OptionRowLabel("Size")),l.pushChild(new OpSelect({"col-1":"col-1","col-2":"col-2","col-3":"col-3","col-4":"col-4","col-5":"col-5","col-6":"col-6","col-7":"col-7","col-8":"col-8","col-9":"col-9","col-10":"col-10","col-11":"col-11","col-12":"col-12",col:"col"},"",!1).cssClass("two-column"));let o=new k;o.addRowLabel(new OptionRowLabel("SM")),o.pushChild(new OpSelect({"col-sm-1":"col-sm-1","col-sm-2":"col-sm-2","col-sm-3":"col-sm-3","col-sm-4":"col-sm-4","col-sm-5":"col-sm-5","col-sm-6":"col-sm-6","col-sm-7":"col-sm-7","col-sm-8":"col-sm-8","col-sm-9":"col-sm-9","col-sm-10":"col-sm-10","col-sm-11":"col-sm-11","col-sm-12":"col-sm-12",col:"col-sm"},"",!1).cssClass("two-column"));let r=new k;r.addRowLabel(new OptionRowLabel("MD")),r.pushChild(new OpSelect({"col-md-1":"col-md-1","col-md-2":"col-md-2","col-md-3":"col-md-3","col-md-4":"col-md-4","col-md-5":"col-md-5","col-md-6":"col-md-6","col-md-7":"col-md-7","col-md-8":"col-md-8","col-md-9":"col-md-9","col-md-10":"col-md-10","col-md-11":"col-md-11","col-md-12":"col-md-12",col:"col-md"},"",!1).cssClass("two-column"));let a=new k;a.addRowLabel(new OptionRowLabel("LG")),a.pushChild(new OpSelect({"col-lg-1":"col-lg-1","col-lg-2":"col-lg-2","col-lg-3":"col-lg-3","col-lg-4":"col-lg-4","col-lg-5":"col-lg-5","col-lg-6":"col-lg-6","col-lg-7":"col-lg-7","col-lg-8":"col-lg-8","col-lg-9":"col-lg-9","col-lg-10":"col-lg-10","col-lg-11":"col-lg-11","col-lg-12":"col-lg-12",col:"col-lg"},"",!1).cssClass("two-column"));let n=new k;n.addRowLabel(new OptionRowLabel("XL")),n.pushChild(new OpSelect({"col-xl-1":"col-xl-1","col-xl-2":"col-xl-2","col-xl-3":"col-xl-3","col-xl-4":"col-xl-4","col-xl-5":"col-xl-5","col-xl-6":"col-xl-6","col-xl-7":"col-xl-7","col-xl-8":"col-xl-8","col-xl-9":"col-xl-9","col-xl-10":"col-xl-10","col-xl-11":"col-xl-11","col-xl-12":"col-xl-12",col:"col-lg"},"",!1).cssClass("two-column")),i.addFirstRow(l).addRow(o).addRow(r).addRow(a).addRow(n),this.pushChild(new W("Basic","groupBasic",this.state).cssClass("no-title-top-border").active().add(t).add(s).add(i)),this.pushChild(new W("Layout","groupLayout",this.state));let d=(new k).addRowLabel(new OptionRowLabel("Class"));d.pushChild(new OpLabelsInput);let h=(new k).addRowLabel(new OptionRowLabel("Style")),c=(new k).addRowLabel(new OptionRowLabel("Attribute"));this.pushChild(new W("Customize","groupCustomize",this.state).add(d).add(h).add(c))}}class P{constructor(){this.header=(new b).cssClass("item"),this.body=(new b).cssClass("tab-body")}pushChild(e){this.body.pushChild(e)}active(e=!0){return e?(this.header.$dom?this.header.$dom.classList.add("active"):this.header.classList.add("active"),this.body.$dom?this.body.$dom.classList.add("active"):this.body.classList.add("active")):(this.header.$dom?this.header.$dom.classList.remove("active"):this.header.classList.remove("active"),this.body.$dom?this.body.$dom.classList.remove("active"):this.body.classList.remove("active")),this}}class G extends g{constructor(){super(),this.__activeDrawerTab="layout"}get activeDrawerTab(){return this.__activeDrawerTab}set activeDrawerTab(e){this.__activeDrawerTab!=e&&(this.__activeDrawerTab=e,this.distributeEvent("activeDrawerTab"))}}class X extends b{constructor(){super(),this.state=new G,this.cssClass("rx-right-area"),this.layout=new P,this.layout.header.domAttr("title","Layout").innerHTML='<i class="fa fa-th-large"></i>',this.options=new P,this.options.header.domAttr("title","Options").innerHTML='<i class="fa fa-paint-brush"></i>',this.pushChild((new b).cssClass("rx-drawer").pushChild((new b).cssClass("top-header").pushChild(this.layout.header).pushChild(this.options.header)).pushChild((new b).cssClass("tab-contents").pushChild(this.layout.body).pushChild(this.options.body))),this.toolbox=new C,this.optionBox=new j,this.layout.pushChild(this.toolbox),this.options.pushChild(this.optionBox),this.state.watch("activeDrawerTab",e=>{this.activeTab(e.activeDrawerTab)}),this.activeTab("layout")}render(e){return super.render(e),this.layout.header.domOn("click",()=>{this.state.activeDrawerTab="layout"}),this.options.header.domOn("click",()=>{this.state.activeDrawerTab="options"}),this}activeTab(e){this.layout.active(!1),this.options.active(!1),this[e].active()}editNode(e){this.optionBox.editNode(e)}cancelEditNode(e){this.optionBox.cancelEdit()}}class z extends M{constructor(e){super(),this.classList.add("toolbar-button"),this.innerHTML=`<i class="fa ${e}" ></i>`}}class Y extends b{constructor(e,t){super(),this.rxEditorShell=e,this.classList.add("rx-toolbar"),this.barLeft=new b,this.barLeft.classList.add("left"),this.pushChild(this.barLeft),t&&(this.createScreenSizeButtons(),e.state.watch("screenWidth",e=>{this.refreshScreenSizeButtonsState()})),this.barCenter=new b,this.barCenter.cssClass("center").innerHTML="\n                      <span style=\"color:#75b325; font-size:22px;font-weight:900;font-family: 'Handlee', cursive;\">\n                        RXEditor</span>\n\n                      <div>\n                      </div>\n\n                  ",this.pushChild(this.barCenter),this.barRight=new b,this.barRight.cssClass("right"),this.pushChild(this.barRight);var s=this.rxEditorShell.canvasState,i=this.creatRightButton("fa-square-o").active().title("Show/hide outline").domOn("click",()=>{s.showOutline=!s.showOutline,i.active(s.showOutline)}),l=this.creatRightButton("fa-tags").active().title("Show/hide Label").domOn("click",()=>{s.showLabel=!s.showLabel,l.active(s.showLabel)}),o=this.creatRightButton("fa-arrows-h").active().title("Show/hide margin").domOn("click",()=>{s.showEditMargin=!s.showEditMargin,o.active(s.showEditMargin)}),r=this.creatRightButton("fa-eye").title("Preview").domOn("click",()=>{s.preview=!s.preview,r.active(s.preview)});s.watch("preview",e=>{i.enable(!e.preview),l.enable(!e.preview),o.enable(!e.preview),this.rxEditorShell.state.showDrawer=!e.preview}),s.watch("showOutline",e=>{l.enable(e.showOutline)}),this.creatRightButton("fa-undo").title("Undo"),this.creatRightButton("fa-repeat").title("Redo"),this.creatRightButton("fa-download").title("Download"),this.creatRightButton("fa-trash").title("Clear canvas"),this.creatRightButton("fa-question-circle").title("About RXEditor"),this.creatRightButton("fa-bars").domOn("click",()=>{e.state.showDrawer=!e.state.showDrawer}).title("Show/hide drawer ")}creatRightButton(e){let t=new z(e);return this.barRight.pushChild(t),t}creatLeftButton(e){let t=new z(e);return this.barLeft.pushChild(t),t}createScreenSizeButtons(){this.xlBtn=this.creatLeftButton("fa-tv").title("Extra large: ≥1200px"),this.xlBtn.style.fontSize="22px",this.xlBtn.style.lineHeight="30px",this.lgBtn=this.creatLeftButton("fa-desktop").title("Large: ≥992px"),this.mdBtn=this.creatLeftButton("fa-laptop").title("Medium:≥768px"),this.smBtn=this.creatLeftButton("fa-tablet").title("Small:≥576px"),this.xsBtn=this.creatLeftButton("fa-mobile").title("Extra small: <576px"),this.xlBtn.domOns.click=e=>{this.rxEditorShell.state.screenWidth="xl"},this.lgBtn.domOns.click=e=>{this.rxEditorShell.state.screenWidth="lg"},this.mdBtn.domOns.click=e=>{this.rxEditorShell.state.screenWidth="md"},this.smBtn.domOns.click=e=>{this.rxEditorShell.state.screenWidth="sm"},this.xsBtn.domOns.click=e=>{this.rxEditorShell.state.screenWidth="xs"},this.refreshScreenSizeButtonsState()}refreshScreenSizeButtonsState(){switch(this.xlBtn.active(!1),this.lgBtn.active(!1),this.mdBtn.active(!1),this.smBtn.active(!1),this.xsBtn.active(!1),this.rxEditorShell.state.screenWidth){case"xl":this.xlBtn.active();break;case"lg":this.lgBtn.active();break;case"md":this.mdBtn.active();break;case"sm":this.smBtn.active();break;case"xs":this.xsBtn.active()}}}class q{constructor(){window.addEventListener("message",e=>{this.handleMessage(e.data)}),this.focusNode=e=>{this.sendMessage({name:"focusNode",node:{id:e.$id,meta:e.$meta,schema:e.$schema}})},this.unFocusNode=e=>{this.sendMessage({name:"unFocusNode",id:e.$id})}}rxeditorReady(){this.sendMessage({name:"rxeditorReady"})}takeOverDraggingByWorkspace(){this.sendMessage({name:"takeOverDraggingByWorkspace"})}handleMessage(e){switch(e.name){case"requestAssemble":let t=this.serveForRXEditor.getElementDefine(e.rxNameId);this.sendMessage({name:"replyAssemble",toolboxInfo:t});break;case"draggingFromToolbox":this.serveForRXEditor.dragFromToolbox(e.rxNameId);break;case"endDragFromToolbox":this.serveForRXEditor.endDragFromToolbox(e.rxNameId);break;case"changeCanvasState":this.serveForRXEditor.changeCanvasState(e.state);break;case"nodeChanged":this.serveForRXEditor.nodeChanged(e.node)}}sendMessage(e){window.parent.postMessage(e,"/")}}var U={group:"utilities",label:"Color",isRowGroup:!0,fields:{textColor:{label:"Text Color",widget:"OpSelect",list:{"text-primary":"Primary","text-secondary":"Secondary","text-success":"Success","text-danger":"Danger","text-warning":"Warning","text-info":"Info","text-light":"Light","text-dark":"Dark","text-muted":"Muted","text-white":"White"}},backgroundColor:{label:"Background Color",widget:"OpSelect",list:{"bg-primary":"Primary","bg-secondary":"Secondary","bg-success":"Success","bg-danger":"Danger","bg-warning":"Warning","bg-info":"Info","bg-light":"Light","bg-dark":"Dark","bg-white":"White","bg-transparent":"Transparent"}}}},J={textColor:"",backgroundColor:""},K={group:"utilities",label:"Border",isRowGroup:!0,fields:{addBorder:{label:"Add Border",widget:"OpBorderInput",list:{border:"All","border-top":"Top","border-right":"Right","border-bottom":"Bottom","border-left":"Left"}},removeBorder:{label:"Remove Border",widget:"OpBorderInput",list:{"border-0":"Remove All","border-top-0":"Remove Top","border-right-0":"Remove Right","border-bottom-0":"Remove Bottom","border-left-0":"Remove Left"}},borderColor:{label:"Border Color",widget:"OpSelect",list:{"border-primary":"Primary","border-secondary":"Secondary","border-success":"Success","border-danger":"Danger","border-warning":"Warning","border-info":"Info","border-light":"Light","border-dark":"Dark","border-white":"White"}},borderRadius:{label:"Border Radius",widget:"OpSelect",list:{rounded:"Rounded","rounded-top":"Rounded top","rounded-right":"Rounded right","rounded-bottom":"Rounded bottom","rounded-left":"Rounded left","rounded-circle":"Rounded circle","rounded-pill":"Rounded pill","rounded-0":"Rounded 0","rounded-sm":"Rounded Small","rounded-lg":"Rounded Large"}}}},Q={addBorder:[],removeBorder:[],borderColor:"",borderRadius:""},Z={group:"utilities",isResponsive:!0,xs:{label:"Margin Auto",widget:"OpSelect",list:{"m-auto":"All","mx-auto":"Horizontal","my-auto":"Vertical","ml-auto":"Left","mr-auto":"Right","mt-auto":"Top","mb-auto":"Bottom"}},sm:{label:"Margin Auto",widget:"OpSelect",list:{"m-sm-auto":"All","mx-sm-auto":"Horizontal","my-sm-auto":"Vertical","ml-sm-auto":"Left","mr-sm-auto":"Right","mt-sm-auto":"Top","mb-sm-auto":"Bottom"}},md:{label:"Margin Auto",widget:"OpSelect",list:{"m-md-auto":"All","mx-md-auto":"Horizontal","my-md-auto":"Vertical","ml-md-auto":"Left","mr-md-auto":"Right","mt-md-auto":"Top","mb-md-auto":"Bottom"}},lg:{label:"Margin Auto",widget:"OpSelect",list:{"m-lg-auto":"All","mx-lg-auto":"Horizontal","my-lg-auto":"Vertical","ml-lg-auto":"Left","mr-lg-auto":"Right","mt-lg-auto":"Top","mb-lg-auto":"Bottom"}},xl:{label:"Margin Auto",widget:"OpSelect",list:{"m-xl-auto":"All","mx-xl-auto":"Horizontal","my-xl-auto":"Vertical","ml-xl-auto":"Left","mr-xl-auto":"Right","mt-xl-auto":"Top","mb-xl-auto":"Bottom"}}},ee={xs:"",sm:"",md:"",lg:"",xl:""},te={group:"utilities",label:"Margin",isRowGroup:!0,fields:{all:{isResponsive:!0,xs:{label:"All",widget:"OpSelect",list:{"m-0":"0","m-1":"1","m-2":"2","m-3":"3","m-4":"4","m-5":"5"}},sm:{label:"All",widget:"OpSelect",list:{"m-sm-0":"0","m-sm-1":"1","m-sm-2":"2","m-sm-3":"3","m-sm-4":"4","m-sm-5":"5"}},md:{label:"All",widget:"OpSelect",list:{"m-md-0":"0","m-md-1":"1","m-md-2":"2","m-md-3":"3","m-md-4":"4","m-md-5":"5"}},lg:{label:"All",widget:"OpSelect",list:{"m-lg-0":"0","m-lg-1":"1","m-lg-2":"2","m-lg-3":"3","m-lg-4":"4","m-lg-5":"5"}},xl:{label:"All",widget:"OpSelect",list:{"m-xl-0":"0","m-xl-1":"1","m-xl-2":"2","m-xl-3":"3","m-xl-4":"4","m-xl-5":"5"}}},horizontal:{isResponsive:!0,xs:{label:"Horizontal",widget:"OpSelect",list:{"mx-0":"0","mx-1":"1","mx-2":"2","mx-3":"3","mx-4":"4","mx-5":"5"}},sm:{label:"Horizontal",widget:"OpSelect",list:{"mx-sm-0":"0","mx-sm-1":"1","mx-sm-2":"2","mx-sm-3":"3","mx-sm-4":"4","mx-sm-5":"5"}},md:{label:"Horizontal",widget:"OpSelect",list:{"mx-md-0":"0","mx-md-1":"1","mx-md-2":"2","mx-md-3":"3","mx-md-4":"4","mx-md-5":"5"}},lg:{label:"Horizontal",widget:"OpSelect",list:{"mx-lg-0":"0","mx-lg-1":"1","mx-lg-2":"2","mx-lg-3":"3","mx-lg-4":"4","mx-lg-5":"5"}},xl:{label:"Horizontal",widget:"OpSelect",list:{"mx-xl-0":"0","mx-xl-1":"1","mx-xl-2":"2","mx-xl-3":"3","mx-xl-4":"4","mx-xl-5":"5"}}},vertical:{isResponsive:!0,xs:{label:"Vertical",widget:"OpSelect",list:{"my-0":"0","my-1":"1","my-2":"2","my-3":"3","my-4":"4","my-5":"5"}},sm:{label:"Vertical",widget:"OpSelect",list:{"my-sm-0":"0","my-sm-1":"1","my-sm-2":"2","my-sm-3":"3","my-sm-4":"4","my-sm-5":"5"}},md:{label:"Vertical",widget:"OpSelect",list:{"my-md-0":"0","my-md-1":"1","my-md-2":"2","my-md-3":"3","my-md-4":"4","my-md-5":"5"}},lg:{label:"Vertical",widget:"OpSelect",list:{"my-lg-0":"0","my-lg-1":"1","my-lg-2":"2","my-lg-3":"3","my-lg-4":"4","my-lg-5":"5"}},xl:{label:"Vertical",widget:"OpSelect",list:{"my-xl-0":"0","my-xl-1":"1","my-xl-2":"2","my-xl-3":"3","my-xl-4":"4","my-xl-5":"5"}}},top:{isResponsive:!0,xs:{label:"Top",widget:"OpSelect",list:{"mt-0":"0","mt-1":"1","mt-2":"2","mt-3":"3","mt-4":"4","mt-5":"5"}},sm:{label:"Top",widget:"OpSelect",list:{"mt-sm-0":"0","mt-sm-1":"1","mt-sm-2":"2","mt-sm-3":"3","mt-sm-4":"4","mt-sm-5":"5"}},md:{label:"Top",widget:"OpSelect",list:{"mt-md-0":"0","mt-md-1":"1","mt-md-2":"2","mt-md-3":"3","mt-md-4":"4","mt-md-5":"5"}},lg:{label:"Top",widget:"OpSelect",list:{"mt-lg-0":"0","mt-lg-1":"1","mt-lg-2":"2","mt-lg-3":"3","mt-lg-4":"4","mt-lg-5":"5"}},xl:{label:"Top",widget:"OpSelect",list:{"mt-xl-0":"0","mt-xl-1":"1","mt-xl-2":"2","mt-xl-3":"3","mt-xl-4":"4","mt-xl-5":"5"}}},right:{isResponsive:!0,xs:{label:"Right",widget:"OpSelect",list:{"mr-0":"0","mr-1":"1","mr-2":"2","mr-3":"3","mr-4":"4","mr-5":"5"}},sm:{label:"Right",widget:"OpSelect",list:{"mr-sm-0":"0","mr-sm-1":"1","mr-sm-2":"2","mr-sm-3":"3","mr-sm-4":"4","mr-sm-5":"5"}},md:{label:"Right",widget:"OpSelect",list:{"mr-md-0":"0","mr-md-1":"1","mr-md-2":"2","mr-md-3":"3","mr-md-4":"4","mr-md-5":"5"}},lg:{label:"Right",widget:"OpSelect",list:{"mr-lg-0":"0","mr-lg-1":"1","mr-lg-2":"2","mr-lg-3":"3","mr-lg-4":"4","mr-lg-5":"5"}},xl:{label:"Right",widget:"OpSelect",list:{"mr-xl-0":"0","mr-xl-1":"1","mr-xl-2":"2","mr-xl-3":"3","mr-xl-4":"4","mr-xl-5":"5"}}},bottom:{isResponsive:!0,xs:{label:"Bottom",widget:"OpSelect",list:{"mb-0":"0","mb-1":"1","mb-2":"2","mb-3":"3","mb-4":"4","mb-5":"5"}},sm:{label:"Bottom",widget:"OpSelect",list:{"mb-sm-0":"0","mb-sm-1":"1","mb-sm-2":"2","mb-sm-3":"3","mb-sm-4":"4","mb-sm-5":"5"}},md:{label:"Bottom",widget:"OpSelect",list:{"mb-md-0":"0","mb-md-1":"1","mb-md-2":"2","mb-md-3":"3","mb-md-4":"4","mb-md-5":"5"}},lg:{label:"Bottom",widget:"OpSelect",list:{"mb-lg-0":"0","mb-lg-1":"1","mb-lg-2":"2","mb-lg-3":"3","mb-lg-4":"4","mb-lg-5":"5"}},xl:{label:"Bottom",widget:"OpSelect",list:{"mb-xl-0":"0","mb-xl-1":"1","mb-xl-2":"2","mb-xl-3":"3","mb-xl-4":"4","mb-xl-5":"5"}}},left:{isResponsive:!0,xs:{label:"Left",widget:"OpSelect",list:{"ml-0":"0","ml-1":"1","ml-2":"2","ml-3":"3","ml-4":"4","ml-5":"5"}},sm:{label:"Left",widget:"OpSelect",list:{"ml-sm-0":"0","ml-sm-1":"1","ml-sm-2":"2","ml-sm-3":"3","ml-sm-4":"4","ml-sm-5":"5"}},md:{label:"Left",widget:"OpSelect",list:{"ml-md-0":"0","ml-md-1":"1","ml-md-2":"2","ml-md-3":"3","ml-md-4":"4","ml-md-5":"5"}},lg:{label:"Left",widget:"OpSelect",list:{"ml-lg-0":"0","ml-lg-1":"1","ml-lg-2":"2","ml-lg-3":"3","ml-lg-4":"4","ml-lg-5":"5"}},xl:{label:"Left",widget:"OpSelect",list:{"ml-xl-0":"0","ml-xl-1":"1","ml-xl-2":"2","ml-xl-3":"3","ml-xl-4":"4","ml-xl-5":"5"}}}}},se={all:Object.assign({},ee),horizontal:Object.assign({},ee),vertical:Object.assign({},ee),top:Object.assign({},ee),right:Object.assign({},ee),bottom:Object.assign({},ee),left:Object.assign({},ee)},ie={group:"utilities",label:"Padding",isRowGroup:!0,fields:{all:{isResponsive:!0,xs:{label:"All",widget:"OpSelect",list:{"p-0":"0","p-1":"1","p-2":"2","p-3":"3","p-4":"4","p-5":"5"}},sm:{label:"All",widget:"OpSelect",list:{"p-sp-0":"0","p-sp-1":"1","p-sp-2":"2","p-sp-3":"3","p-sp-4":"4","p-sp-5":"5"}},md:{label:"All",widget:"OpSelect",list:{"p-md-0":"0","p-md-1":"1","p-md-2":"2","p-md-3":"3","p-md-4":"4","p-md-5":"5"}},lg:{label:"All",widget:"OpSelect",list:{"p-lg-0":"0","p-lg-1":"1","p-lg-2":"2","p-lg-3":"3","p-lg-4":"4","p-lg-5":"5"}},xl:{label:"All",widget:"OpSelect",list:{"p-xl-0":"0","p-xl-1":"1","p-xl-2":"2","p-xl-3":"3","p-xl-4":"4","p-xl-5":"5"}}},horizontal:{isResponsive:!0,xs:{label:"Horizontal",widget:"OpSelect",list:{"px-0":"0","px-1":"1","px-2":"2","px-3":"3","px-4":"4","px-5":"5"}},sm:{label:"Horizontal",widget:"OpSelect",list:{"px-sm-0":"0","px-sm-1":"1","px-sm-2":"2","px-sm-3":"3","px-sm-4":"4","px-sm-5":"5"}},md:{label:"Horizontal",widget:"OpSelect",list:{"px-md-0":"0","px-md-1":"1","px-md-2":"2","px-md-3":"3","px-md-4":"4","px-md-5":"5"}},lg:{label:"Horizontal",widget:"OpSelect",list:{"px-lg-0":"0","px-lg-1":"1","px-lg-2":"2","px-lg-3":"3","px-lg-4":"4","px-lg-5":"5"}},xl:{label:"Horizontal",widget:"OpSelect",list:{"px-xl-0":"0","px-xl-1":"1","px-xl-2":"2","px-xl-3":"3","px-xl-4":"4","px-xl-5":"5"}}},vertical:{isResponsive:!0,xs:{label:"Vertical",widget:"OpSelect",list:{"py-0":"0","py-1":"1","py-2":"2","py-3":"3","py-4":"4","py-5":"5"}},sm:{label:"Vertical",widget:"OpSelect",list:{"py-sm-0":"0","py-sm-1":"1","py-sm-2":"2","py-sm-3":"3","py-sm-4":"4","py-sm-5":"5"}},md:{label:"Vertical",widget:"OpSelect",list:{"py-md-0":"0","py-md-1":"1","py-md-2":"2","py-md-3":"3","py-md-4":"4","py-md-5":"5"}},lg:{label:"Vertical",widget:"OpSelect",list:{"py-lg-0":"0","py-lg-1":"1","py-lg-2":"2","py-lg-3":"3","py-lg-4":"4","py-lg-5":"5"}},xl:{label:"Vertical",widget:"OpSelect",list:{"py-xl-0":"0","py-xl-1":"1","py-xl-2":"2","py-xl-3":"3","py-xl-4":"4","py-xl-5":"5"}}},top:{isResponsive:!0,xs:{label:"Top",widget:"OpSelect",list:{"pt-0":"0","pt-1":"1","pt-2":"2","pt-3":"3","pt-4":"4","pt-5":"5"}},sm:{label:"Top",widget:"OpSelect",list:{"pt-sm-0":"0","pt-sm-1":"1","pt-sm-2":"2","pt-sm-3":"3","pt-sm-4":"4","pt-sm-5":"5"}},md:{label:"Top",widget:"OpSelect",list:{"pt-md-0":"0","pt-md-1":"1","pt-md-2":"2","pt-md-3":"3","pt-md-4":"4","pt-md-5":"5"}},lg:{label:"Top",widget:"OpSelect",list:{"pt-lg-0":"0","pt-lg-1":"1","pt-lg-2":"2","pt-lg-3":"3","pt-lg-4":"4","pt-lg-5":"5"}},xl:{label:"Top",widget:"OpSelect",list:{"pt-xl-0":"0","pt-xl-1":"1","pt-xl-2":"2","pt-xl-3":"3","pt-xl-4":"4","pt-xl-5":"5"}}},right:{isResponsive:!0,xs:{label:"Right",widget:"OpSelect",list:{"pr-0":"0","pr-1":"1","pr-2":"2","pr-3":"3","pr-4":"4","pr-5":"5"}},sm:{label:"Right",widget:"OpSelect",list:{"pr-sm-0":"0","pr-sm-1":"1","pr-sm-2":"2","pr-sm-3":"3","pr-sm-4":"4","pr-sm-5":"5"}},md:{label:"Right",widget:"OpSelect",list:{"pr-md-0":"0","pr-md-1":"1","pr-md-2":"2","pr-md-3":"3","pr-md-4":"4","pr-md-5":"5"}},lg:{label:"Right",widget:"OpSelect",list:{"pr-lg-0":"0","pr-lg-1":"1","pr-lg-2":"2","pr-lg-3":"3","pr-lg-4":"4","pr-lg-5":"5"}},xl:{label:"Right",widget:"OpSelect",list:{"pr-xl-0":"0","pr-xl-1":"1","pr-xl-2":"2","pr-xl-3":"3","pr-xl-4":"4","pr-xl-5":"5"}}},bottom:{isResponsive:!0,xs:{label:"Bottom",widget:"OpSelect",list:{"pb-0":"0","pb-1":"1","pb-2":"2","pb-3":"3","pb-4":"4","pb-5":"5"}},sm:{label:"Bottom",widget:"OpSelect",list:{"pb-sm-0":"0","pb-sm-1":"1","pb-sm-2":"2","pb-sm-3":"3","pb-sm-4":"4","pb-sm-5":"5"}},md:{label:"Bottom",widget:"OpSelect",list:{"pb-md-0":"0","pb-md-1":"1","pb-md-2":"2","pb-md-3":"3","pb-md-4":"4","pb-md-5":"5"}},lg:{label:"Bottom",widget:"OpSelect",list:{"pb-lg-0":"0","pb-lg-1":"1","pb-lg-2":"2","pb-lg-3":"3","pb-lg-4":"4","pb-lg-5":"5"}},xl:{label:"Bottom",widget:"OpSelect",list:{"pb-xl-0":"0","pb-xl-1":"1","pb-xl-2":"2","pb-xl-3":"3","pb-xl-4":"4","pb-xl-5":"5"}}},left:{isResponsive:!0,xs:{label:"Left",widget:"OpSelect",list:{"pl-0":"0","pl-1":"1","pl-2":"2","pl-3":"3","pl-4":"4","pl-5":"5"}},sm:{label:"Left",widget:"OpSelect",list:{"pl-sm-0":"0","pl-sm-1":"1","pl-sm-2":"2","pl-sm-3":"3","pl-sm-4":"4","pl-sm-5":"5"}},md:{label:"Left",widget:"OpSelect",list:{"pl-md-0":"0","pl-md-1":"1","pl-md-2":"2","pl-md-3":"3","pl-md-4":"4","pl-md-5":"5"}},lg:{label:"Left",widget:"OpSelect",list:{"pl-lg-0":"0","pl-lg-1":"1","pl-lg-2":"2","pl-lg-3":"3","pl-lg-4":"4","pl-lg-5":"5"}},xl:{label:"Left",widget:"OpSelect",list:{"pl-xl-0":"0","pl-xl-1":"1","pl-xl-2":"2","pl-xl-3":"3","pl-xl-4":"4","pl-xl-5":"5"}}}}},le={all:Object.assign({},ee),horizontal:Object.assign({},ee),vertical:Object.assign({},ee),top:Object.assign({},ee),right:Object.assign({},ee),bottom:Object.assign({},ee),left:Object.assign({},ee)},oe={label:"Width",group:"utilities",widget:"OpSelect",defaultValue:"",list:{"w-25":"25%","w-50":"50%","w-75":"75%","w-100":"100%","vw-100":"100vw","mw-100":"Max 100%","min-vw-100":"Min 100vw"}},re={label:"Height",group:"utilities",widget:"OpSelect",defaultValue:"",list:{"h-25":"25%","h-50":"50%","h-75":"75%","h-100":"100%","vh-100":"100vh","mh-100":"Max 100%","min-vh-100":"Min 100vh"}};class ae extends u{constructor(){super(),this.addedFeilds=[],this.addedFieldGroups=[],this.$meta={tag:"div"},this.$schema={fields:{}},this.$schema.groups={},this.groups={utilities:{label:"Bootstrap Utilities"},decorations:{label:"Decorations"}}}addColor(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.utilColor=Object.assign({},J),this.$schema.fields.utilColor=Object.assign({},U)}addBorder(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.utilBorder=Object.assign({},Q),this.$schema.fields.utilBorder=Object.assign({},K)}addMarginAuto(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.marginAuto=Object.assign({},ee),this.$schema.fields.marginAuto=Object.assign({},Z),this.addedFeilds.push("marginAuto")}addPadding(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.utilPadding=Object.assign({},le),this.$schema.fields.utilPadding=Object.assign({},ie),this.addedFieldGroups.push("utilPadding")}addMargin(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.utilMargin=Object.assign({},se),this.$schema.fields.utilMargin=Object.assign({},te),this.addedFieldGroups.push("utilMargin")}addWidth(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.utilWidth="",this.$schema.fields.utilWidth=oe}addHeight(){this.$schema.groups.utilities=this.groups.utilities,this.$meta.utilHeight="",this.$schema.fields.utilHeight=re}addClearfix(){this.$schema.fields.utilClearfix={label:"Clearfix",widget:"OpSwitch",required:!0,group:"utilities",onValue:"clearfix",offValue:"",defaultValue:""},this.$meta.utilClearfix=""}clone(){let e=super.clone();for(var t in e.$meta.tag=this.$meta.tag,this.addedFeilds)this.copyMetaTo(this.$meta[t],e.$meta[t]);var s,i;return this.addedFieldGroups.forEach(t=>{for(var s in this.$meta[t])this.copyMetaTo(this.$meta[t][s],e.$meta[t][s])}),e.$meta.utilWidth=this.$meta.utilWidth,e.$meta.utilHeight=this.$meta.utilHeight,s=this,(i=e).textColor=s.textColor,i.backgroundColor=s.backgroundColor,((e,t)=>{t.addBorder=e.addBorder.concat(),t.removeBorder=e.removeBorder.concat(),t.borderColor=e.borderColor,t.borderRadius=e.borderRadius})(this,e),e.$meta.utilClearfix=this.$meta.utilClearfix,e}copyMetaTo(e,t){for(var s in e)t[s]=e[s]}toViewModel(){let e=super.toViewModel();return e.name=this.$meta.tag,this.addedFeilds.forEach(t=>{this.metaFieldToViewModel(e,this.$meta[t])}),this.addedFieldGroups.forEach(t=>{for(var s in this.$meta[t])this.metaFieldToViewModel(e,this.$meta[t][s])}),e.classList.add(this.$meta.utilWidth),e.classList.add(this.$meta.utilHeight),((e,t)=>{e.classList.add(t.textColor),e.classList.add(t.backgroundColor)})(e,this.$meta.utilColor),((e,t)=>{e.classList.push.apply(e.classList,t.addBorder),e.classList.push.apply(e.classList,t.removeBorder),e.classList.add(t.borderColor),e.classList.add(t.borderRadius)})(e,this.$meta.utilBorder),e.classList.add(this.$meta.utilClearfix),e}metaFieldToViewModel(e,t){for(var s in t)e.classList.add(t[s])}}class ne extends ae{constructor(){super(),this.toolboxInfo.groupId="groupContainer",this.toolboxInfo.elementId="container",this.toolboxInfo.elementName="Container",this.className="BSContainer",this.heightDropMargin=15,this.acceptedChildren=["BSRow","BSContainer","HTMLDiv"],this.$meta.baseClass="container",this.$schema.groups={containerOptions:{label:"Container Options"}},this.$schema.fields.baseClass={label:"Fluid",widget:"OpSwitch",required:!0,group:"containerOptions",onValue:"container-fluid",offValue:"container",defaultValue:"container"},super.addBorder(),super.addMargin(),super.addPadding()}make(){return new ne}clone(){let e=super.clone();return e.$meta.baseClass=this.$meta.baseClass,e}toViewModel(){let e=super.toViewModel();return e.label.text="Container",e.classList.push(this.$meta.baseClass),e}}var de={group:"rowOptions",isResponsive:!0,xs:{label:"Align Cols(H)",widget:"OpSelect",list:{"justify-content-start":"Start","justify-content-end":"End","justify-content-center":"Center","justify-content-between":"Between","justify-content-around":"Around"}},sm:{label:"Align Cols(H)",widget:"OpSelect",list:{"justify-content-sm-start":"Start","justify-content-sm-end":"End","justify-content-sm-center":"Center","justify-content-sm-between":"Between","justify-content-sm-around":"Around"}},md:{label:"Align Cols(H)",widget:"OpSelect",list:{"justify-content-md-start":"Start","justify-content-md-end":"End","justify-content-md-center":"Center","justify-content-md-between":"Between","justify-content-md-around":"Around"}},lg:{label:"Align Cols(H)",widget:"OpSelect",list:{"justify-content-lg-start":"Start","justify-content-lg-end":"End","justify-content-lg-center":"Center","justify-content-lg-between":"Between","justify-content-lg-around":"Around"}},xl:{label:"Align Cols(H)",widget:"OpSelect",list:{"justify-content-xl-start":"Start","justify-content-xl-end":"End","justify-content-xl-center":"Center","justify-content-xl-between":"Between","justify-content-xl-around":"Around"}}},he={group:"rowOptions",isResponsive:!0,xs:{widget:"OpSelect",label:"Align Cols(V)",list:{"align-items-start":"Start","align-items-end":"End","align-items-center":"Center","align-items-baseline":"Between","align-items-stretch":"Around"}},sm:{widget:"OpSelect",label:"Align Cols(V)",list:{"align-items-sm-start":"Start","align-items-sm-end":"End","align-items-sm-center":"Center","align-items-sm-baseline":"Between","align-items-sm-stretch":"Around"}},md:{widget:"OpSelect",label:"Align Cols(V)",list:{"align-items-md-start":"Start","align-items-md-end":"End","align-items-md-center":"Center","align-items-md-baseline":"Between","align-items-md-stretch":"Around"}},lg:{widget:"OpSelect",label:"Align Cols(V)",list:{"align-items-lg-start":"Start","align-items-lg-end":"End","align-items-lg-center":"Center","align-items-lg-baseline":"Between","align-items-lg-stretch":"Around"}},xl:{widget:"OpSelect",label:"Align Cols(V)",list:{"align-items-xl-start":"Start","align-items-xl-end":"End","align-items-xl-center":"Center","align-items-xl-baseline":"Between","align-items-xl-stretch":"Around"}}};class ce extends ae{constructor(e){super(),this.toolboxInfo.groupId="groupGrid",this.toolboxInfo.elementId="row",this.toolboxInfo.elementName="Row",this.className="BSRow",this.heightDropMargin=15,this.acceptedChildren=["BSCol","BSW100"],this.$meta.baseClass="row",this.editMarginStyle.margin="0",this.$schema.groups={rowOptions:{label:"Row Options"}},this.$meta.gutters="",this.$meta.hAlign=Object.assign({},ee),this.$meta.vAlign=Object.assign({},ee),this.$schema.fields.gutters={label:"Gutters",widget:"OpSwitch",required:!0,group:"rowOptions",onValue:"",offValue:"no-gutters",defaultValue:""},this.$schema.fields.hAlign=de,this.$schema.fields.vAlign=he,super.addBorder(),super.addMarginAuto(),super.addMargin(),super.addPadding()}make(){return new ce}clone(){let e=super.clone();return e.$meta.gutters=this.$meta.gutters,super.copyMetaTo(this.$meta.hAlign,e.$meta.hAlign),super.copyMetaTo(this.$meta.vAlign,e.$meta.vAlign),e}toViewModel(){let e=super.toViewModel();return e.label.text="Row",e.classList.push(this.$meta.baseClass),e.classList.push(this.$meta.gutters),super.metaFieldToViewModel(e,this.$meta.hAlign),super.metaFieldToViewModel(e,this.$meta.vAlign),e}}var me={group:"columnOptions",isResponsive:!0,xs:{label:"Width",widget:"OpSelect",columns:2,list:{"col-1":"1","col-2":"2","col-3":"3","col-4":"4","col-5":"5","col-6":"6","col-7":"7","col-8":"8","col-9":"9","col-10":"10","col-11":"11","col-12":"12","col-auto":"Auto",col:"Col"}},sm:{label:"Width",widget:"OpSelect",columns:2,list:{"col-sm-1":"1","col-sm-2":"2","col-sm-3":"3","col-sm-4":"4","col-sm-5":"5","col-sm-6":"6","col-sm-7":"7","col-sm-8":"8","col-sm-9":"9","col-sm-10":"10","col-sm-11":"11","col-sm-12":"12","col-sm-auto":"Auto","col-sm":"Col"}},md:{label:"Width",widget:"OpSelect",columns:2,list:{"col-md-1":"1","col-md-2":"2","col-md-3":"3","col-md-4":"4","col-md-5":"5","col-md-6":"6","col-md-7":"7","col-md-8":"8","col-md-9":"9","col-md-10":"10","col-md-11":"11","col-md-12":"12","col-md-auto":"Auto","col-md":"Col"}},lg:{label:"Width",widget:"OpSelect",columns:2,list:{"col-lg-1":"1","col-lg-2":"2","col-lg-3":"3","col-lg-4":"4","col-lg-5":"5","col-lg-6":"6","col-lg-7":"7","col-lg-8":"8","col-lg-9":"9","col-lg-10":"10","col-lg-11":"11","col-lg-12":"12","col-lg-auto":"Auto","col-lg":"Col"}},xl:{label:"Width",widget:"OpSelect",columns:2,list:{"col-xl-1":"1","col-xl-2":"2","col-xl-3":"3","col-xl-4":"4","col-xl-5":"5","col-xl-6":"6","col-xl-7":"7","col-xl-8":"8","col-xl-9":"9","col-xl-10":"10","col-xl-11":"11","col-xl-12":"12","col-xl-auto":"Auto","col-xl":"Col"}}},ue={group:"columnOptions",isResponsive:!0,xs:{label:"Offset",widget:"OpSelect",columns:2,list:{"offset-1":"1","offset-2":"2","offset-3":"3","offset-4":"4","offset-5":"5","offset-6":"6","offset-7":"7","offset-8":"8","offset-9":"9","offset-10":"10","offset-11":"11"}},sm:{label:"Offset",widget:"OpSelect",columns:2,list:{"offset-sm-1":"1","offset-sm-2":"2","offset-sm-3":"3","offset-sm-4":"4","offset-sm-5":"5","offset-sm-6":"6","offset-sm-7":"7","offset-sm-8":"8","offset-sm-9":"9","offset-sm-10":"10","offset-sm-11":"11"}},md:{label:"Offset",widget:"OpSelect",columns:2,list:{"offset-md-1":"1","offset-md-2":"2","offset-md-3":"3","offset-md-4":"4","offset-md-5":"5","offset-md-6":"6","offset-md-7":"7","offset-md-8":"8","offset-md-9":"9","offset-md-10":"10","offset-md-11":"11"}},lg:{label:"Offset",widget:"OpSelect",columns:2,list:{"offset-lg-1":"1","offset-lg-2":"2","offset-lg-3":"3","offset-lg-4":"4","offset-lg-5":"5","offset-lg-6":"6","offset-lg-7":"7","offset-lg-8":"8","offset-lg-9":"9","offset-lg-10":"10","offset-lg-11":"11"}},xl:{label:"Offset",widget:"OpSelect",columns:2,list:{"offset-xl-1":"1","offset-xl-2":"2","offset-xl-3":"3","offset-xl-4":"4","offset-xl-5":"5","offset-xl-6":"6","offset-xl-7":"7","offset-xl-8":"8","offset-xl-9":"9","offset-xl-10":"10","offset-xl-11":"11"}}},pe={group:"columnOptions",isResponsive:!0,xs:{label:"Align Self",widget:"OpSelect",list:{"align-self-auto":"Auto","align-self-start":"Start","align-self-end":"End","align-self-center":"Center","align-self-baseline":"Baseline","align-self-stretch":"Stretch"}},sm:{label:"Align Self",widget:"OpSelect",list:{"align-self-sm-auto":"Auto","align-self-sm-start":"Start","align-self-sm-end":"End","align-self-sm-center":"Center","align-self-sm-baseline":"Baseline","align-self-sm-stretch":"Stretch"}},md:{label:"Align Self",widget:"OpSelect",list:{"align-self-md-auto":"Auto","align-self-md-start":"Start","align-self-md-end":"End","align-self-md-center":"Center","align-self-md-baseline":"Baseline","align-self-md-stretch":"Stretch"}},lg:{label:"Align Self",widget:"OpSelect",list:{"align-self-lg-auto":"Auto","align-self-lg-start":"Start","align-self-lg-end":"End","align-self-lg-center":"Center","align-self-lg-baseline":"Baseline","align-self-lg-stretch":"Stretch"}},xl:{label:"Align Self",widget:"OpSelect",list:{"align-self-xl-auto":"Auto","align-self-xl-start":"Start","align-self-xl-end":"End","align-self-xl-center":"Center","align-self-xl-baseline":"Baseline","align-self-xl-stretch":"Stretch"}}},ge={group:"columnOptions",isResponsive:!0,xs:{label:"Order",widget:"OpSelect",columns:2,list:{"order-first":"First","order-last":"Last","order-1":"1","order-2":"2","order-3":"3","order-4":"4","order-5":"5","order-6":"6","order-7":"7","order-8":"8","order-9":"9","order-10":"10","order-11":"11","order-12":"11"}},sm:{label:"Order",widget:"OpSelect",columns:2,list:{"order-sm-first":"First","order-sm-last":"Last","order-sm-1":"1","order-sm-2":"2","order-sm-3":"3","order-sm-4":"4","order-sm-5":"5","order-sm-6":"6","order-sm-7":"7","order-sm-8":"8","order-sm-9":"9","order-sm-10":"10","order-sm-11":"11","order-sm-12":"11"}},md:{label:"Order",widget:"OpSelect",columns:2,list:{"order-md-first":"First","order-md-last":"Last","order-md-1":"1","order-md-2":"2","order-md-3":"3","order-md-4":"4","order-md-5":"5","order-md-6":"6","order-md-7":"7","order-md-8":"8","order-md-9":"9","order-md-10":"10","order-md-11":"11","order-md-12":"11"}},lg:{label:"Order",widget:"OpSelect",columns:2,list:{"order-lg-first":"First","order-lg-last":"Last","order-lg-1":"1","order-lg-2":"2","order-lg-3":"3","order-lg-4":"4","order-lg-5":"5","order-lg-6":"6","order-lg-7":"7","order-lg-8":"8","order-lg-9":"9","order-lg-10":"10","order-lg-11":"11","order-lg-12":"11"}},xl:{label:"Order",widget:"OpSelect",columns:2,list:{"order-xl-first":"First","order-xl-last":"Last","order-xl-1":"1","order-xl-2":"2","order-xl-3":"3","order-xl-4":"4","order-xl-5":"5","order-xl-6":"6","order-xl-7":"7","order-xl-8":"8","order-xl-9":"9","order-xl-10":"10","order-xl-11":"11","order-xl-12":"11"}}};class we extends ae{constructor(){super(),this.toolboxInfo.groupId="groupGrid",this.toolboxInfo.elementId="column",this.toolboxInfo.elementName="Column",this.className="BSCol",this.widthDropMargin=15,this.acceptedChildren=["BSRow","BSContainer","HTMLDiv"],this.$meta.colWidth=Object.assign({},ee),this.$meta.colWidth.md="col-md",this.$meta.colOffset=Object.assign({},ee),this.$meta.colAlignSelf=Object.assign({},ee),this.$meta.colOrder=Object.assign({},ee),this.$schema.groups={columnOptions:{label:"Column Options"}},this.$schema.fields.colWidth=me,this.$schema.fields.colOffset=ue,super.addMarginAuto(),this.$schema.fields.colAlignSelf=pe,this.$schema.fields.colOrder=ge,super.addBorder(),super.addMargin(),super.addPadding(),this.$schema.fields.marginAuto.group="columnOptions"}make(){return new we}clone(){let e=super.clone();return super.copyMetaTo(this.$meta.colWidth,e.$meta.colWidth),super.copyMetaTo(this.$meta.colOffset,e.$meta.colOffset),super.copyMetaTo(this.$meta.colAlignSelf,e.$meta.colAlignSelf),super.copyMetaTo(this.$meta.colOrder,e.$meta.colOrder),e}toViewModel(){let e=super.toViewModel();return e.label.text="Column",super.metaFieldToViewModel(e,this.$meta.colWidth),super.metaFieldToViewModel(e,this.$meta.colOffset),super.metaFieldToViewModel(e,this.$meta.colAlignSelf),super.metaFieldToViewModel(e,this.$meta.colOrder),e}}class fe extends ae{constructor(){super(),this.toolboxInfo.groupId="groupGrid",this.toolboxInfo.elementId="bsw100",this.toolboxInfo.elementName="Row Break",this.className="BSW100",this.editMarginStyle.padding="10px",this.widthDropMargin=15,this.acceptedChildren=[]}make(){return new fe}toViewModel(){let e=super.toViewModel();return e.label.text="w-100",e.classList.add("w-100"),e}}var be={container:new ne,row:new ce,column:new we,w100:new fe};class xe extends ae{constructor(){super(),this.toolboxInfo.groupId="groupHtml",this.toolboxInfo.elementId="div",this.toolboxInfo.elementName="DIV",this.className="HTMLDiv",super.addColor(),super.addBorder(),super.addWidth(),super.addHeight(),super.addMarginAuto(),super.addMargin(),super.addPadding(),super.addClearfix()}make(){return new xe}toViewModel(){let e=super.toViewModel();return e.label.text="div",e}}var ve={div:new xe};function Ce(){window.rxEditor=new f,window.RXEditorCommandProxy=q,rxEditor.bootstrap=be,rxEditor.html=ve}class Se{constructor(e){this.workspaceFrame=e,this.waitingAccembles={},window.addEventListener("message",e=>{this.handleMessage(e.data)})}endDragFromToolbox(){this.sendMessageToRXEditor({name:"endDragFromToolbox"})}draggingFromToolbox(e){this.sendMessageToRXEditor({name:"draggingFromToolbox",rxNameId:e})}changeCanvasState(e){this.sendMessageToRXEditor({name:"changeCanvasState",state:{preview:e.preview,showEditMargin:e.showEditMargin,showOutline:e.showOutline,showLabel:e.showLabel}})}nodeChanged(e){this.sendMessageToRXEditor({name:"nodeChanged",node:e})}handleMessage(e){switch(e.name){case"rxeditorReady":this.serveForShell.onRxEditorReady();break;case"replyAssemble":let t=e.toolboxInfo.rxNameId;this.waitingAccembles[t](e.toolboxInfo);break;case"takeOverDraggingByWorkspace":this.serveForShell.endFollowMouse();break;case"focusNode":this.serveForShell.focusNode(e.node);break;case"unFocusNode":this.serveForShell.unFocusNode(e.id)}}requestAssemble(e,t){this.waitingAccembles[e]=t,this.sendMessageToRXEditor({name:"requestAssemble",rxNameId:e})}sendMessageToRXEditor(e){let t=this.workspaceFrame;t&&(t.contentWindow.postMessage(e,"/"),window.postMessage(e,"/"))}}class ye extends g{constructor(){super(),this.__screenWidth="md",this.__preView=!1,this.__fullscreen=!1,this.__canUndo=!1,this.__canRedo=!1,this.__showDrawer=!0}get screenWidth(){return this.__screenWidth}set screenWidth(e){this.__screenWidth!=e&&(this.__screenWidth=e,this.distributeEvent("screenWidth"))}get preView(){return this.__preView}set preView(e){this.__preView!=e&&(this.__preView=e,this.distributeEvent("preView"))}get fullscreen(){return this.__fullscreen}set fullscreen(e){this.__fullscreen!=e&&(this.__fullscreen=e,this.distributeEvent("fullscreen"))}get canUndo(){return this.__canUndo}set canUndo(e){this.__canUndo!=e&&(this.__canUndo=e,this.distributeEvent("canUndo"))}get canRedo(){return this.__canRedo}set canRedo(e){this.__canRedo!=e&&(this.__canRedo=e,this.distributeEvent("canRedo"))}get showDrawer(){return this.__showDrawer}set showDrawer(e){this.__showDrawer!=e&&(this.__showDrawer=e,this.distributeEvent("showDrawer"))}}class Oe extends b{constructor(e){super(),this.config=e,this.cssClass("rx-workspace"),this.domAttr("id","workspace")}render(e){super.render(e);let t=document.createElement("iframe");this.iframe=t,t.src="javascript:0",t.frameBorder="0",t.border="0",t.allowTransparency="no",t.scrolling="auto",t.height="100%",this.$dom.appendChild(t);let s=t.contentDocument,i=`\n        <html style="width:100%;height:100%;">\n          <head>\n            <title>RXEditor Workspace</title>\n            <link rel=stylesheet href="${this.config.mainCss}">\n            <link rel="stylesheet" href="${this.config.bootstrapCss}">\n            <link href="${this.config.fontAwesome}" rel="stylesheet">\n          </head>\n          <body style="background-color:#FFF;padding:0;width:100%; height:100%;">\n            <div id="canvas"></div>\n            <script type="text/javascript" src="${this.config.mainJs}"><\/script>\n            <script>\n              rxEditor.hangOn('canvas', new RXEditorCommandProxy);\n            <\/script>\n          </body>\n        </html>\n      `;s.open(),s.write(i),s.close()}resizeScreen(e){"xl"==e&&(this.iframe.width="100%"),"lg"==e&&(this.iframe.width="1199px"),"md"==e&&(this.iframe.width="991px"),"sm"==e&&(this.iframe.width="767px"),"xs"==e&&(this.iframe.width="575")}}class Le{constructor(){Ce(),this.state=new ye,this.canvasState=new w,this.itemRxNameIds=[]}assemble(e){this.itemRxNameIds.push(e)}hangOn(e,t){this.domElement=document.getElementById(e),this.domElement.classList.add("rx-editor"),this.workspace=new Oe(t),(new b).cssClass("rx-left-area").pushChild(new Y(this,!0)).pushChild(this.workspace).render(this.domElement),this.workspace.resizeScreen(this.state.screenWidth),this.drawer=new X,this.drawer.optionBox.screenWidth=this.state.screenWidth,this.state.watch("screenWidth",e=>{this.workspace.resizeScreen(e.screenWidth),this.drawer.optionBox.resizeScreen(e.screenWidth)}),this.state.watch("showDrawer",e=>{this.drawer.$dom.style.width=e.showDrawer?"250px":"0"}),this.commandProxy=new Se(this.workspace.iframe),this.commandProxy.serveForShell=this,this.canvasState.watch("changed",e=>{this.commandProxy.changeCanvasState(e)})}onRxEditorReady(){for(var e in this.drawer.render(this.domElement),this.itemRxNameIds)this.commandProxy.requestAssemble(this.itemRxNameIds[e],this.drawer.toolbox.assembleToolboxItem);this.drawer.toolbox.on("draggingFromToolbox",e=>{this.draggingFromToolbox(e)}),this.drawer.toolbox.on("endDragFromToolbox",e=>{this.commandProxy&&this.commandProxy.endDragFromToolbox()}),this.drawer.optionBox.valueChanged=e=>{this.commandProxy.nodeChanged(e)}}renderRight(){return createChild("rx-right-area",this.domElement)}draggingFromToolbox(e){this.commandProxy.draggingFromToolbox(e)}endFollowMouse(){this.drawer.toolbox.endFollowMouse()}focusNode(e){this.drawer.editNode(e)}unFocusNode(e){this.drawer.cancelEditNode(e)}}function Ee(e,t){let s=document.createElement("div");return s.classList.add(e),t.appendChild(s),s}class Me extends g{constructor(){super(),this.__bold=!1,this.__italic=!1,this.__underline=!1,this.__strikethrough=!1}get bold(){return this.__bold}set bold(e){this.__bold!=e&&(this.__bold=e,this.distributeEvent("bold"))}get italic(){return this.__italic}set italic(e){this.__italic!=e&&(this.__italic=e,this.distributeEvent("italic"))}get underline(){return this.__underline}set underline(e){this.__underline!=e&&(this.__underline=e,this.distributeEvent("underline"))}get strikethrough(){return this.__strikethrough}set strikethrough(e){this.__strikethrough!=e&&(this.__strikethrough=e,this.distributeEvent("strikethrough"))}}window.createRXEditorFM=()=>{window.rxEditor=new f;let e=new Le;return e.assemble("bootstrap.container"),e.assemble("bootstrap.row"),e.assemble("bootstrap.column"),e.assemble("bootstrap.w100"),e.assemble("html.div"),e},window.rxEditorInline=new class{constructor(){Ce()}hangOn(e){}},window.MiniEditor=class{constructor(){this.state=new Me}hangOn(e){console.log("enter mini editor"),this.domElement=e,e.classList.add("mini-editor");let t=Ee("mini-editor-canvas",e);this.canvas=t,t.innerHTML="欢迎使用 Mini Editor ,双击该区域试试",this.canvas.onkeydown=e=>{if(13===e.keyCode)return e.preventDefault(),!1},e.ondblclick=()=>{t.contentEditable=!0,t.focus(),this.showToolbar()},t.onblur=()=>{t.contentEditable=!1,this.hideToolbar()},document.addEventListener("selectionchange",()=>{this.refreshBoldBtn(),this.refreshItalicBtn()})}showToolbar(){this.toolbar=Ee("mini-editor-toolbar",this.domElement),this.createBoldBtn(),this.createItalicBtn();let e=Ee("sp-button",this.toolbar);e.classList.add("icon-button"),e.innerHTML="<u>U</u>";let t=Ee("sp-button",this.toolbar);t.classList.add("icon-button"),t.innerHTML="<strike>S</strike>";let s=Ee("sp-button",this.toolbar);s.classList.add("icon-button"),s.innerHTML="<span>⫘</span>";let i=Ee("sp-button",this.toolbar);i.classList.add("sp-styles"),i.title="Bootstrap Style",i.innerHTML="Insert <span>▾</span>",i.onclick=e=>{console.log("style  s button click"),document.execCommand("insertHTML",!1,'<span style="color:red;">EX<span>')},this.toolbar.onmousedown=e=>{console.log("mouse down"),e.preventDefault()}}setHeading(e){formatBlock=document.queryCommandValue("formatBlock"),formatBlock.length>0&&formatBlock.toLowerCase(),document.execCommand("formatBlock",!1,"")}createBoldBtn(){let e=Ee("sp-button",this.toolbar);this.boldBtn=e,e.classList.add("icon-button"),e.innerHTML="<b>B</b>",e.onclick=e=>{document.execCommand("bold",!1,null)},this.state.watch("bold",()=>{this.state.bold?this.boldBtn.classList.add("active"):this.boldBtn.classList.remove("active")})}refreshBoldBtn(){this.state.bold=document.queryCommandState("bold")}createItalicBtn(){let e=Ee("sp-button",this.toolbar);this.italicBtn=e,e.classList.add("icon-button"),e.innerHTML="<i>I</i>",e.onclick=e=>{document.execCommand("italic",!1,null),this.state.italic=!this.state.italic},this.state.watch("italic",()=>{this.state.italic?this.italicBtn.classList.add("active"):this.italicBtn.classList.remove("active")})}refreshItalicBtn(){this.state.italic=document.queryCommandState("italic")}hideToolbar(){this.toolbar.style.display="none"}}}]);